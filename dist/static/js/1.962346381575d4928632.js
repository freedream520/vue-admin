webpackJsonp([1],{BWzE:function(e,t){e.exports=[{companyCityCode:"",companyCode:"0",companyId:"1",createTime:1511917213e3,createUserId:"22",departmentId:"41",departmentName:"超级管理员",email:"",id:150,loginAccount:"admin1",name:"admin1",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1498014466e3,createUserId:"4",hideLevel:100,id:21,name:"超级管理员",status:"0",type:"0",updateTime:1498014497e3}],status:"0"},{companyCityCode:"",companyCode:"0",companyId:"1",createTime:1508230669e3,createUserId:"22",departmentId:"41",departmentName:"超级管理员",email:"123456@qq.com",id:149,loginAccount:"admin2",name:"admin2",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1498014466e3,createUserId:"4",hideLevel:100,id:21,name:"超级管理员",status:"0",type:"0",updateTime:1498014497e3}],status:"0"},{companyCityCode:"",companyCode:"0",companyId:"1",createTime:1507598501e3,createUserId:"3",departmentId:"41",departmentName:"超级管理员",email:"",id:148,loginAccount:"admin3",name:"admin3",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1495853979e3,createUserId:"admin",hideLevel:100,id:1,name:"管理员",status:"0",type:"0",updateTime:1498014476e3},{createTime:1498014466e3,createUserId:"4",hideLevel:100,id:21,name:"超级管理员",status:"0",type:"0",updateTime:1498014497e3}],status:"1",updateTime:1507600412e3,updateUserId:"148"},{companyCityCode:"",companyCode:"0",companyId:"1",createTime:15067872e5,createUserId:"1",departmentId:"41",departmentName:"超级管理员",email:"",id:1,loginAccount:"admin",name:"admin",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1498014466e3,createUserId:"4",hideLevel:100,id:21,name:"超级管理员",status:"0",type:"0",updateTime:1498014497e3}],status:"0",updateTime:1498805136e3,updateUserId:"34"},{companyCityCode:"",companyCode:"0",companyId:"1",createTime:15067872e5,createUserId:"1",departmentId:"41",departmentName:"超级管理员",email:"",id:2,loginAccount:"admin4",name:"admin4",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1495853979e3,createUserId:"admin",hideLevel:100,id:1,name:"管理员",status:"0",type:"0",updateTime:1498014476e3}],status:"0",updateTime:1499394072e3,updateUserId:"2"},{companyCityCode:"",companyCode:"0",companyId:"1",createTime:15067872e5,createUserId:"1",departmentId:"41",departmentName:"超级管理员",email:"",id:3,loginAccount:"admin5",name:"admin5",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1498014466e3,createUserId:"4",hideLevel:100,id:21,name:"超级管理员",status:"0",type:"0",updateTime:1498014497e3}],status:"0",updateTime:1501484691e3,updateUserId:"3"},{companyCityCode:"",companyCode:"0",companyId:"1",createTime:15067872e5,createUserId:"1",departmentId:"41",departmentName:"超级管理员",email:"3344@163.com",id:4,loginAccount:"admin6",name:"admin6",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1498014466e3,createUserId:"4",hideLevel:100,id:21,name:"超级管理员",status:"0",type:"0",updateTime:1498014497e3}],status:"0",updateTime:1506418039e3,updateUserId:"22"},{companyCityCode:"",companyCode:"0",companyId:"1",createTime:15067872e5,createUserId:"1",departmentId:"41",departmentName:"超级管理员",email:"",id:5,loginAccount:"admin7",name:"admin7",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1496400666e3,createUserId:"1",hideLevel:40,id:2,name:"县级业务员",roleNo:"0001",status:"0",type:"3",updateTime:1498477625e3,updateUserId:"22"},{createTime:1496400673e3,createUserId:"1",hideLevel:9,id:3,name:"县级风控",roleNo:"0002",status:"0",type:"3",updateTime:1497614299e3},{createTime:149674004e4,createUserId:"1",hideLevel:90,id:6,name:"市级风控",roleNo:"0005",status:"0",type:"2",updateTime:1497614295e3},{createTime:1496745939e3,createUserId:"1",hideLevel:99,id:8,name:"总经理",roleNo:"0007",status:"0",type:"1",updateTime:1497438482e3},{createTime:149674004e4,createUserId:"1",hideLevel:90,id:6,name:"市级风控",roleNo:"0005",status:"0",type:"2",updateTime:1497614295e3}],status:"0",updateTime:1499146452e3,updateUserId:"5"},{companyCityCode:"",companyCode:"0",companyId:"1",createTime:15067872e5,createUserId:"1",departmentId:"41",departmentName:"超级管理员",email:"123456@sina.cn",id:6,loginAccount:"admin8",name:"admin8",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1498014466e3,createUserId:"4",hideLevel:100,id:21,name:"超级管理员",status:"0",type:"0",updateTime:1498014497e3}],status:"0",updateTime:1510543748e3,updateUserId:"22"},{companyCityCode:"",companyCode:"0",companyId:"1",createTime:15067872e5,createUserId:"1",departmentId:"41",departmentName:"超级管理员",email:"",id:7,loginAccount:"admin9",name:"admin9",password:"******",phoneNo:"15012345678",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png",roleList:[{createTime:1498014466e3,createUserId:"4",hideLevel:100,id:21,name:"超级管理员",status:"0",type:"0",updateTime:1498014497e3}],status:"0",updateTime:1497939502e3,updateUserId:""}]},Sb74:function(e,t){e.exports=[{bangStatus:"1",id:41,name:"超级管理员"},{bangStatus:"1",id:33,name:"业务部"},{bangStatus:"1",id:34,name:"外访部"},{bangStatus:"0",id:35,name:"总经理"},{bangStatus:"1",id:36,name:"财务部"},{bangStatus:"1",id:42,name:"风控部"},{bangStatus:"0",id:43,name:"内务部"}]},WlXF:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o=a("BWzE"),r=a.n(o),s=a("Sb74"),i=a.n(s),m=a("ntLO"),l=a.n(m),d={name:"GroupStaff",data:function(){return{companyData:{id:1,name:"总公司",code:"001",twoDimensionCodeImageUrl:"http://cgtzimage.b0.upaiyun.com/matrix/image/000000000000000B.png"},departmentList:[],roleList:[],searchInfo:{list:[],form:{name:"",phone:""}},addInfo:{isOpen:!1,form:{loginAccount:"",password:"",name:"",phoneNo:"",email:"",departmentId:"",companyCode:"001",companyId:1,roleIdList:""}},changeInfo:{isOpen:!1,form:{}},statusInfo:{isOpen:!1,form:{}},passInfo:{isOpen:!1,form:{password:"",password2:""},data:{}},rules:{loginAccount:[{required:!0,message:"登录名不能为空",trigger:"change"}],password:[{required:!0,message:"密码不能为空",trigger:"change"}],password2:[{required:!0,message:"确认密码不能为空",trigger:"change"}],name:[{required:!0,message:"姓名不能为空",trigger:"change"}],phoneNo:[{required:!0,message:"手机号不能为空",trigger:"change"}],departmentId:[{type:"number",required:!0,message:"请选择所在部门",trigger:"change"}],roleIdList:[{type:"array",required:!0,message:"所属角色不能为空",trigger:"change"}]}}},methods:{getListAjax:function(){console.log("发送ajax查询数据或分页规则处理"),this.searchInfo.list=r.a},formatValue:function(e,t,a){if("status"===t.property)return this.fomatLoopValue(a,[{text:"1",value:"禁用"},{text:"0",value:"启用"}]);if("email"===t.property)return a||"未填写";if("roleList"===t.property){for(var n=[],o=0;o<a.length;o++)n.push(a[o].name);return n.join("、")}},sendAddAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送addInfo.form数据"),console.log(t.addInfo.form)})},resetAddInfo:function(){this.resetForm("formByAdd"),this.addInfo.form.email="",this.addInfo.isOpen=!1},openChange:function(e){var t=this;this.changeInfo.isOpen=!0,setTimeout(function(){var a;t.$refs.formByChange.resetFields();var o=[];""!==e.roleList&&e.roleList.forEach(function(e){o.push(parseInt(e.id))}),t.changeInfo.form=(a={id:e.id,loginAccount:e.loginAccount,name:e.name,phoneNo:e.phoneNo,email:e.email,departmentId:parseInt(e.departmentId),companyCode:e.companyCode,companyId:parseInt(e.companyId)},n(a,"companyId",1),n(a,"roleIdList",o),a)},100)},sendChangeAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送changeInfo.form数据"),console.log(t.changeInfo.form)})},resetChangeInfo:function(){this.resetForm("formByChange"),this.changeInfo.form.email="",this.changeInfo.isOpen=!1},openStatus:function(e){this.statusInfo={isOpen:!0,form:e}},sendStatusAjax:function(){console.log("确认启用或禁用")},openPass:function(e){this.passInfo.isOpen=!0,this.passInfo.data=e},sendPassAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送passInfo.form数据"),console.log(t.passInfo.form)})},resetPassInfo:function(){this.$refs.formByPass.resetFields(),this.passInfo.isOpen=!1}},mounted:function(){var e=this;this.getListAjax(),i.a.forEach(function(t){"1"===t.bangStatus&&e.departmentList.push(t)}),l.a.forEach(function(t){"1"===t.bangStatus&&e.roleList.push(t)})}},p=d,c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-col",{attrs:{span:20}},[a("div",{staticClass:"company-big-title"},[e._v("员工管理（"),a("span",[e._v(e._s(e.companyData.name))]),e._v("）")]),e._v(" "),a("SearchWarp",[a("el-form",{ref:"searchInfo.form",attrs:{inline:!0,model:e.searchInfo.form}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.$router.push("/group/company")}}},[e._v("返回公司管理")])],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入员工姓名"},model:{value:e.searchInfo.form.name,callback:function(t){e.$set(e.searchInfo.form,"name",t)},expression:"searchInfo.form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.searchInfo.form.photo,callback:function(t){e.$set(e.searchInfo.form,"photo",t)},expression:"searchInfo.form.photo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.getListAjax}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.addInfo.isOpen=!0}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("ContentWarp",[a("el-table",{attrs:{border:"",stripe:"",data:e.searchInfo.list,size:"small"}},[a("el-table-column",{attrs:{align:"center",label:"姓名",prop:"name",width:"80",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"登录名",prop:"loginAccount",width:"120",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"手机号",prop:"phoneNo",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"邮箱",prop:"email",formatter:e.formatValue,"min-width":"150px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"部门",prop:"departmentName",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"角色",prop:"roleList",formatter:e.formatValue,"min-width":"180px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态",prop:"status",formatter:e.formatValue,width:"60"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"创建时期",prop:"createTime",formatter:e.fomatTime,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","min-width":"350px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(a){e.openChange(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:function(a){e.openPass(t.row)}}},[e._v("重置密码")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"1"===t.row.status?"success":"danger",plain:""},on:{click:function(a){e.openStatus(t.row)}}},[e._v(e._s("1"===t.row.status?"启用":"禁用"))]),e._v(" "),a("el-button",{attrs:{size:"mini",plain:""},on:{click:function(a){e.$qr([t.row.twoDimensionCodeImageUrl,t.row.name])}}},[e._v("二维码")])]}}])})],1)],1),e._v(" "),a("ContentWarp",{staticClass:"center"},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next, jumper",total:126}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增员工",width:"600px",center:"",visible:e.addInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){e.$set(e.addInfo,"isOpen",t)}}},[a("el-form",{ref:"formByAdd",attrs:{model:e.addInfo.form,rules:e.rules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"登录名",prop:"loginAccount"}},[a("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.loginAccount,callback:function(t){e.$set(e.addInfo.form,"loginAccount",t)},expression:"addInfo.form.loginAccount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.addInfo.form.password,callback:function(t){e.$set(e.addInfo.form,"password",t)},expression:"addInfo.form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.name,callback:function(t){e.$set(e.addInfo.form,"name",t)},expression:"addInfo.form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phoneNo"}},[a("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.phoneNo,callback:function(t){e.$set(e.addInfo.form,"phoneNo",t)},expression:"addInfo.form.phoneNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{attrs:{type:"text"},model:{value:e.addInfo.form.email,callback:function(t){e.$set(e.addInfo.form,"email",t)},expression:"addInfo.form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所在部门",prop:"departmentId"}},[a("el-select",{attrs:{clearable:""},model:{value:e.addInfo.form.departmentId,callback:function(t){e.$set(e.addInfo.form,"departmentId",t)},expression:"addInfo.form.departmentId"}},[e._l(e.departmentList,function(e){return[a("el-option",{attrs:{label:e.name,value:e.id}})]})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属角色",prop:"roleIdList"}},[a("el-select",{attrs:{multiple:""},model:{value:e.addInfo.form.roleIdList,callback:function(t){e.$set(e.addInfo.form,"roleIdList",t)},expression:"addInfo.form.roleIdList"}},[e._l(e.roleList,function(e){return[a("el-option",{attrs:{label:e.name,value:e.id}})]})],2)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sendAddAjax("formByAdd")}}},[e._v("新 增")]),e._v(" "),a("el-button",{on:{click:e.resetAddInfo}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改员工",width:"600px",center:"",visible:e.changeInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){e.$set(e.changeInfo,"isOpen",t)}}},[a("el-form",{ref:"formByChange",attrs:{model:e.changeInfo.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"登录名",prop:"loginAccount"}},[a("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.loginAccount,callback:function(t){e.$set(e.changeInfo.form,"loginAccount",t)},expression:"changeInfo.form.loginAccount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.name,callback:function(t){e.$set(e.changeInfo.form,"name",t)},expression:"changeInfo.form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phoneNo"}},[a("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.phoneNo,callback:function(t){e.$set(e.changeInfo.form,"phoneNo",t)},expression:"changeInfo.form.phoneNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{attrs:{type:"text"},model:{value:e.changeInfo.form.email,callback:function(t){e.$set(e.changeInfo.form,"email",t)},expression:"changeInfo.form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所在部门",prop:"departmentId"}},[a("el-select",{attrs:{clearable:""},model:{value:e.changeInfo.form.departmentId,callback:function(t){e.$set(e.changeInfo.form,"departmentId",t)},expression:"changeInfo.form.departmentId"}},[e._l(e.departmentList,function(e){return[a("el-option",{attrs:{label:e.name,value:e.id}})]})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属角色",prop:"roleIdList"}},[a("el-select",{attrs:{multiple:""},model:{value:e.changeInfo.form.roleIdList,callback:function(t){e.$set(e.changeInfo.form,"roleIdList",t)},expression:"changeInfo.form.roleIdList"}},[e._l(e.roleList,function(e){return[a("el-option",{attrs:{label:e.name,value:e.id}})]})],2)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sendChangeAjax("formByChange")}}},[e._v("修 改")]),e._v(" "),a("el-button",{on:{click:e.resetChangeInfo}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"正在修改 "+e.passInfo.data.name+" 的密码",width:"600px",center:"",visible:e.passInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){e.$set(e.passInfo,"isOpen",t)}}},[a("el-form",{ref:"formByPass",attrs:{model:e.passInfo.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"新密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.passInfo.form.password,callback:function(t){e.$set(e.passInfo.form,"password",t)},expression:"passInfo.form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"再次确认",prop:"password2"}},[a("el-input",{attrs:{type:"password"},model:{value:e.passInfo.form.password2,callback:function(t){e.$set(e.passInfo.form,"password2",t)},expression:"passInfo.form.password2"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sendPassAjax("formByPass")}}},[e._v("确 认")]),e._v(" "),a("el-button",{on:{click:e.resetPassInfo}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"1"===e.statusInfo.form.status?"启用":"禁用",width:"600px",center:"",visible:e.statusInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){e.$set(e.statusInfo,"isOpen",t)}}},[a("p",{staticClass:"text-center"},[e._v("确定"+e._s("1"===e.statusInfo.form.status?"启用":"禁用")),a("span",{staticClass:"text-red"},[e._v(" "+e._s(e.statusInfo.form.name)+"（"+e._s(e.statusInfo.form.loginAccount)+"） ")]),e._v("吗？")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.sendStatusAjax}},[e._v("确 认")]),e._v(" "),a("el-button",{on:{click:function(t){e.statusInfo.isOpen=!1}}},[e._v("取 消")])],1)])],1)},u=[],f={render:c,staticRenderFns:u},g=f,I=a("/Xao"),h=I(p,g,!1,null,null,null);t.default=h.exports},ntLO:function(e,t){e.exports=[{bangStatus:"1",id:1,name:"管理员"},{bangStatus:"1",id:21,name:"超级管理员"},{bangStatus:"0",id:2,name:"县级业务员"},{bangStatus:"0",id:3,name:"县级风控"},{bangStatus:"0",id:4,name:"县级外访员"},{bangStatus:"0",id:5,name:"县级负责人"},{bangStatus:"1",id:6,name:"市级风控"},{bangStatus:"1",id:7,name:"市级负责人"},{bangStatus:"1",id:8,name:"总经理"},{bangStatus:"0",id:9,name:"县级内务"},{bangStatus:"0",id:10,name:"市级财务"},{bangStatus:"1",id:20,name:"省级风控"},{bangStatus:"1",id:22,name:"市级管理员"},{bangStatus:"1",id:24,name:"市级指派员"},{bangStatus:"1",id:25,name:"副总经理"}]}});