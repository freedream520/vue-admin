webpackJsonp([18],{OLJZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("d310"),o=a.n(n),r={name:"GroupRole",data:function(){return{searchInfo:{list:[],form:{name:"",type:""}},addInfo:{isOpen:!1,form:{name:"",type:"",hideLevel:0}},changeInfo:{isOpen:!1,form:{}},typeList:["后台","省级","市级","县级"],rules:{name:[{required:!0,message:"角色名称不能为空",trigger:"change"}],type:[{type:"number",required:!0,message:"角色分类不能为空",trigger:"change"}],hideLevel:[{type:"number",required:!0,message:"资料等级不能为空",trigger:"change"}]}}},methods:{getListAjax:function(){console.log("发送ajax查询数据或分页规则处理"),this.searchInfo.list=o.a},formatValue:function(e,t,a){return this.typeList[a]},sendAddAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送addInfo.form数据"),console.log(t.addInfo.form)})},resetAddInfo:function(){this.resetForm("formByAdd"),this.addInfo.isOpen=!1},openChange:function(e){var t=this;this.changeInfo.isOpen=!0,setTimeout(function(){t.$refs.formByChange.resetFields(),t.changeInfo.form={id:e.id,name:e.name,type:parseInt(e.type),hideLevel:e.hideLevel}},100)},sendChangeAjax:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("在此发送changeInfo.form数据"),console.log(t.changeInfo.form)})},resetChangeInfo:function(){this.$refs.formByChange.resetFields(),this.changeInfo.isOpen=!1}},mounted:function(){this.getListAjax()}},l=r,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("Breadcrumb"),e._v(" "),a("SearchWarp",[a("el-form",{ref:"searchInfo.form",attrs:{inline:!0,model:e.searchInfo.form}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.searchInfo.form.name,callback:function(t){e.$set(e.searchInfo.form,"name",t)},expression:"searchInfo.form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchInfo.form.type,callback:function(t){e.$set(e.searchInfo.form,"type",t)},expression:"searchInfo.form.type"}},e._l(e.typeList,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.getListAjax}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.addInfo.isOpen=!0}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("ContentWarp",[a("el-table",{attrs:{border:"",stripe:"",data:e.searchInfo.list,size:"small"}},[a("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"角色名称",prop:"name","min-width":"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"分类",prop:"type",formatter:e.formatValue}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"资料等级",prop:"hideLevel"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"260px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(a){e.openChange(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(a){e.$router.push("/group/role/power/"+t.row.id)}}},[e._v("分配权限")])]}}])})],1)],1),e._v(" "),a("ContentWarp",{staticClass:"center"},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next, jumper",total:126}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增角色",width:"600px",center:"",visible:e.addInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){e.$set(e.addInfo,"isOpen",t)}}},[a("el-form",{ref:"formByAdd",attrs:{model:e.addInfo.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.addInfo.form.name,callback:function(t){e.$set(e.addInfo.form,"name",t)},expression:"addInfo.form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.addInfo.form.type,callback:function(t){e.$set(e.addInfo.form,"type",t)},expression:"addInfo.form.type"}},e._l(e.typeList,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"资料等级",prop:"hideLevel"}},[a("el-input-number",{attrs:{min:0,max:100},model:{value:e.addInfo.form.hideLevel,callback:function(t){e.$set(e.addInfo.form,"hideLevel",t)},expression:"addInfo.form.hideLevel"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sendAddAjax("formByAdd")}}},[e._v("新 增")]),e._v(" "),a("el-button",{on:{click:e.resetAddInfo}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改角色",width:"600px",center:"",visible:e.changeInfo.isOpen,"show-close":!1},on:{"update:visible":function(t){e.$set(e.changeInfo,"isOpen",t)}}},[a("el-form",{ref:"formByChange",attrs:{model:e.changeInfo.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.changeInfo.form.name,callback:function(t){e.$set(e.changeInfo.form,"name",t)},expression:"changeInfo.form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.changeInfo.form.type,callback:function(t){e.$set(e.changeInfo.form,"type",t)},expression:"changeInfo.form.type"}},e._l(e.typeList,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"资料等级",prop:"hideLevel"}},[a("el-input-number",{attrs:{min:0,max:100},model:{value:e.changeInfo.form.hideLevel,callback:function(t){e.$set(e.changeInfo.form,"hideLevel",t)},expression:"changeInfo.form.hideLevel"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sendChangeAjax("formByChange")}}},[e._v("修 改")]),e._v(" "),a("el-button",{on:{click:e.resetChangeInfo}},[e._v("取 消")])],1)],1)],1)},i=[],c={render:s,staticRenderFns:i},f=c,d=a("/Xao"),m=d(l,f,!1,null,null,null);t.default=m.exports},d310:function(e,t){e.exports=[{createTime:"2017-06-29 20:04:05",createUserId:"1",hideLevel:0,id:25,name:"副总经理",status:"0",type:"1"},{createTime:"2017-06-28 14:40:39",createUserId:"1",hideLevel:0,id:24,name:"市级指派员",status:"0",type:"0"},{createTime:"2017-06-23 13:20:52",createUserId:"1",hideLevel:0,id:22,name:"市级管理员",status:"0",type:"0"},{createTime:"2017-06-21 11:07:46",createUserId:"4",hideLevel:100,id:21,name:"超级管理员",status:"0",type:"0"},{createTime:"2017-06-20 10:11:09",createUserId:"1",hideLevel:0,id:20,name:"省级风控",roleNo:"0010",status:"0",type:"1"},{createTime:"2017-06-06 18:45:44",createUserId:"1",hideLevel:90,id:10,name:"市级财务",roleNo:"0009",status:"0",type:"2"},{createTime:"2017-06-06 18:45:41",createUserId:"1",hideLevel:80,id:9,name:"县级内务",roleNo:"0008",status:"0",type:"3"},{createTime:"2017-06-06 18:45:39",createUserId:"1",hideLevel:99,id:8,name:"总经理",roleNo:"0007",status:"0",type:"1"},{createTime:"2017-06-06 18:45:37",createUserId:"1",hideLevel:98,id:7,name:"市级负责人",roleNo:"0006",status:"0",type:"2"},{createTime:"2017-06-06 17:07:20",createUserId:"1",hideLevel:90,id:6,name:"市级风控",roleNo:"0005",status:"0",type:"2"}]}});